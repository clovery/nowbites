# 用餐计划功能

## 功能概述

新增了支持命名的用餐计划功能，用户可以创建多个不同的计划来管理不同的用餐安排。

## 主要功能

### 1. 创建计划
- 用户可以创建命名计划
- 支持计划描述（可选）
- 计划名称唯一性验证
- 最多20个字符的计划名称
- 最多100个字符的计划描述

### 2. 计划选择
- 在用餐计划页面顶部显示计划选择器
- 支持下拉选择不同的计划
- 显示当前选中的计划名称
- 如果没有计划，显示"选择计划"

### 3. 计划管理
- 查看所有已创建的计划
- 切换不同的计划
- 创建新计划的快捷入口

## 使用方法

### 创建新计划
1. 进入"计划"页面
2. 点击顶部的计划选择器
3. 如果没有计划，点击"创建第一个计划"
4. 如果有计划，点击"+ 创建新计划"
5. 输入计划名称和描述
6. 点击"创建计划"

### 切换计划
1. 在"计划"页面点击顶部的计划选择器
2. 从下拉列表中选择想要切换的计划
3. 选择后会自动切换到该计划

### 添加菜谱到计划
1. 在菜谱详情页面点击"加入计划"
2. 选择要添加到哪一天
3. 菜谱会自动添加到当前选中的计划中

## 技术实现

### 数据结构
```typescript
interface Plan {
  id: string
  name: string
  description?: string
  createdAt: string
  updatedAt: string
}
```

### 存储方式
- 计划数据存储在 `plans` 键中
- 每个计划包含基本信息
- 支持计划的创建时间和更新时间

### 页面结构
- `pages/plan-create/index.tsx` - 计划创建页面
- `pages/meal-plan/index.tsx` - 用餐计划页面（已更新）

### 样式文件
- `pages/plan-create/index.scss` - 计划创建页面样式
- `pages/meal-plan/index.scss` - 用餐计划页面样式（已更新）

## 配置更新

在 `app.config.ts` 中添加了新页面：
```typescript
pages: [
  // ... 其他页面
  'pages/plan-create/index',
  // ... 其他页面
]
```

## 事件通信

使用 Taro 的事件中心来处理计划创建后的页面通信：
- 创建计划后通过 `Taro.eventCenter.trigger('planCreated', newPlan)` 通知
- 用餐计划页面监听 `planCreated` 事件并更新状态 