#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Run lint-staged to format and lint staged files
echo "ğŸ“ Running lint-staged..."
npx lint-staged

# Run tests to ensure code quality
echo "ğŸ§ª Running tests..."
pnpm test

# Check if tests passed
if [ $? -eq 0 ]; then
    echo "âœ… All tests passed! Proceeding with commit..."
else
    echo "âŒ Tests failed! Please fix the issues before committing."
    exit 1
fi
